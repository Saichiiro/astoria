<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H√¥tel de vente - Astoria</title>
    <link rel="icon" type="image/x-icon" href="assets/images/ALICE_ACADEMIA.ico">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/hdv.css">
</head>
<body>
    <main class="hdv-page" aria-labelledby="hdvTitle">
        <header class="page-header">
            <a href="profil.html" class="magic-back-link" title="Retour au profil">‚üµ Retour</a>
            <div class="page-header-main">
                <div class="page-title-block">
                    <h1 class="page-title" id="hdvTitle">H√¥tel de vente</h1>
                </div>
                <div class="character-summary" aria-label="R√©sum√© du personnage">
                    <div class="character-avatar-wrapper">
                        <div class="character-avatar character-avatar--clickable" role="button" tabindex="0" aria-haspopup="true" aria-label="Changer de personnage">
                            <img class="character-avatar-img" id="characterSummaryAvatar" alt="Avatar" hidden>
                            <div class="character-avatar-circle" id="characterSummaryInitial" hidden></div>
                        </div>
                        <div class="character-dropdown" hidden aria-label="S√©lectionner un personnage"></div>
                    </div>
                    <div class="character-summary-text">
                        <a class="character-name" id="characterSummaryName" href="profil.html">Nom du personnage</a>
                        <span class="character-tagline" id="characterSummaryTagline">Classe / Role / Surnom</span>
                        <div class="character-summary-meta">
                            <span class="stats-badge" id="characterKaelsBadge" hidden>0 kaels</span>
                            <div class="character-souls" id="characterSouls" hidden>
                                <span class="soul-count" title="&Acirc;mes consommation"><span class="soul-icon">üî•</span><span id="soulConsoValue">0</span></span>
                                <span class="soul-count" title="&Acirc;mes progression"><span class="soul-icon">‚≠ê</span><span id="soulProgValue">0</span></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <nav class="hdv-tabs" role="tablist" aria-label="Onglets H√¥tel de vente">
            <button class="hdv-tab active" type="button" role="tab" aria-selected="true" aria-controls="hdvTabSearch" data-tab="search">
                Rechercher
            </button>
            <button class="hdv-tab" type="button" role="tab" aria-selected="false" aria-controls="hdvTabMine" data-tab="mine">
                Mes offres
            </button>
            <button class="hdv-tab" type="button" role="tab" aria-selected="false" aria-controls="hdvTabHistory" data-tab="history">
                Historique
            </button>
        </nav>

        <section class="hdv-layout" aria-label="Interface H√¥tel de vente">
            <aside class="hdv-sidebar" aria-label="Cat√©gories">
                <h2 class="hdv-sidebar-title">Cat√©gories</h2>
                <div class="hdv-category-list" id="hdvCategories"></div>
            </aside>

            <section class="hdv-content">
                <div class="hdv-panel active" id="hdvTabSearch" role="tabpanel" aria-label="Rechercher">
                    <section class="hdv-filterbar" aria-label="Filtres">
                        <div class="inventory-search" id="hdvSearch">
                            <button type="button" class="inventory-search-toggle" id="hdvSearchToggle" aria-label="Rechercher" aria-expanded="false">
                                <span class="inventory-search-icon">&#x1F50D;</span>
                            </button>
                            <input
                                id="hdvSearchInput"
                                type="search"
                                class="inventory-search-input"
                                placeholder="Rechercher un item..."
                                autocomplete="off"
                                aria-label="Rechercher un item">
                            <button type="button" class="inventory-search-clear" id="hdvSearchClear" aria-label="Effacer la recherche" hidden>x</button>
                            <div class="recent-searches-dropdown inventory-search-history" id="hdvSearchHistory"></div>
                        </div>

                        <div class="hdv-filter-group">
                            <label class="hdv-filter-label" for="hdvMinLevel">Niv. min</label>
                            <input class="field-input hdv-filter-input" id="hdvMinLevel" type="number" min="0" placeholder="0">
                        </div>
                        <div class="hdv-filter-group">
                            <label class="hdv-filter-label" for="hdvMaxLevel">Niv. max</label>
                            <input class="field-input hdv-filter-input" id="hdvMaxLevel" type="number" min="0" placeholder="999">
                        </div>

                        <select class="category-dropdown" id="hdvRaritySelect" aria-label="Raret√©">
                            <option value="all">Toutes raret√©s</option>
                            <option value="Inconnue">Inconnue</option>
                            <option value="Commun">Commun</option>
                            <option value="Rare">Rare</option>
                            <option value="&Eacute;pique">&Eacute;pique</option>
                            <option value="L√©gendaire">L√©gendaire</option>
                        </select>

                        <div class="hdv-scroll-filter">
                            <button
                                type="button"
                                class="hdv-scroll-toggle"
                                id="hdvScrollTypesToggle"
                                title="Types de parchemins"
                                aria-label="Afficher les types de parchemins"
                                aria-expanded="false"
                                aria-controls="hdvScrollTypesPanel">
                                <span class="hdv-scroll-toggle-label" id="hdvScrollTypesLabel">Parchemins</span>
                                <span class="hdv-scroll-toggle-icon">&#x25BE;</span>
                            </button>
                            <div class="hdv-scroll-panel" id="hdvScrollTypesPanel" aria-hidden="true">
                                <div class="hdv-scroll-panel-title">Types de parchemins</div>
                                <div class="hdv-scroll-panel-list" id="hdvScrollTypesList"></div>
                                <button class="hdv-scroll-clear" type="button" id="hdvScrollTypesClear">Tous les types</button>
                            </div>
                        </div>

                        <select class="category-dropdown" id="hdvSortSelect" aria-label="Tri">
                            <option value="price_asc">Les moins chers</option>
                            <option value="price_desc">Les plus chers</option>
                            <option value="level_desc">Niveau</option>
                            <option value="recent_desc">R√©cents</option>
                        </select>

                        <label class="hdv-toggle" title="N√©cessite d'√™tre connect√©">
                            <input id="hdvAffordableToggle" type="checkbox" disabled>
                            Je peux l'acheter
                        </label>
                    </section>

                    <div class="filter-chips" id="hdvChips" aria-label="Filtres actifs"></div>

                    <div class="hdv-status" id="hdvSearchStatus" aria-live="polite"></div>

                    <div class="table-container">
                        <table aria-label="R√©sultats H√¥tel de vente">
                            <thead>
                                <tr>
                                    <th style="width: 44%;">Objet</th>
                                    <th style="width: 10%;">Niveau</th>
                                    <th style="width: 12%;">Raret√©</th>
                                    <th style="width: 10%;">Lot</th>
                                    <th style="width: 16%;">Prix</th>
                                    <th style="width: 8%;">Action</th>
                                </tr>
                            </thead>
                            <tbody id="hdvListingsBody"></tbody>
                        </table>
                    </div>

                    <div class="hdv-pagination" id="hdvPagination" aria-label="Pagination"></div>
                </div>

                <div class="hdv-panel" id="hdvTabMine" role="tabpanel" aria-label="Mes offres">
                    <div class="hdv-status" id="hdvMineStatus" aria-live="polite"></div>

                    <section class="hdv-sell-card" aria-label="Cr√©er une offre">
                        <h2 class="hdv-section-title">Cr√©er une offre</h2>
                        <div class="hdv-sell-form">
                            <div class="hdv-sell-field">
                                <label class="hdv-filter-label" for="hdvSellItem">Objet</label>
                                <select class="field-input" id="hdvSellItem"></select>
                                <div class="hdv-help" id="hdvBasePriceHint"></div>
                            </div>

                            <div class="hdv-sell-field">
                                <label class="hdv-filter-label" for="hdvSellQty">Quantit√©</label>
                                <input class="field-input" id="hdvSellQty" type="number" min="1" value="1">
                            </div>

                            <div class="hdv-sell-field">
                                <label class="hdv-filter-label" for="hdvSellUnitPrice">Prix/unit√©</label>
                                <input class="field-input" id="hdvSellUnitPrice" type="number" min="0" value="0">
                            </div>

                            <div class="hdv-sell-actions">
                                <button class="btn-primary hdv-action-btn" id="hdvCreateListing" type="button">Mettre en vente</button>
                            </div>
                        </div>
                    </section>

                    <section class="hdv-section" aria-label="Mes ventes actives">
                        <h2 class="hdv-section-title">Mes offres actives</h2>
                        <div class="table-container">
                            <table aria-label="Mes offres">
                                <thead>
                                    <tr>
                                        <th style="width: 50%;">Objet</th>
                                        <th style="width: 14%;">Lot</th>
                                        <th style="width: 22%;">Prix</th>
                                        <th style="width: 14%;">Action</th>
                                    </tr>
                                </thead>
                                <tbody id="hdvMyListingsBody"></tbody>
                            </table>
                        </div>
                    </section>
                </div>

                <div class="hdv-panel" id="hdvTabHistory" role="tabpanel" aria-label="Historique">
                    <div class="hdv-status" id="hdvHistoryStatus" aria-live="polite"></div>

                    <section class="hdv-section" aria-label="Transactions">
                        <h2 class="hdv-section-title">Mes transactions</h2>
                        <div class="table-container">
                            <table aria-label="Historique des transactions">
                                <thead>
                                    <tr>
                                        <th style="width: 22%;">Date</th>
                                        <th style="width: 14%;">Type</th>
                                        <th style="width: 28%;">Objet</th>
                                        <th style="width: 10%;">Lot</th>
                                        <th style="width: 20%;">Prix</th>
                                        <th style="width: 16%;">Profil</th>
                                    </tr>
                                </thead>
                                <tbody id="hdvHistoryBody"></tbody>
                            </table>
                        </div>
                    </section>
                </div>
            </section>
        </section>
    </main>

    <script src="js/image-helpers.js"></script>
    <script src="js/data.js"></script>
    <script src="js/ui/list-helpers.js"></script>
    <script src="js/ui/search-history.js"></script>
    <script src="js/ui/searchbar.js"></script>
    <script type="module" src="js/ui/app-shell.js"></script>
    <script type="module" src="js/hdv.js"></script>
    <script src="js/sidebar.js"></script>
</body>
</html>
